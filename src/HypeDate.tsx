import React from 'react';
import {interpolate, spring, useCurrentFrame, useVideoConfig} from 'remotion';
import SimplexNoise from 'simplex-noise';
import {remapSpeed} from './remap-speed';

const simplexNoise = [
	new SimplexNoise('simplexnoise'),
	new SimplexNoise('simplexnoise2'),
	new SimplexNoise('simplexnoise3'),
	new SimplexNoise('simplexnoise4'),
];

export const HypeDate: React.FC = () => {
	const frame = useCurrentFrame();

	const posterizedFrame = Math.round(frame / 2) * 2;
	const remappedFrame = remapSpeed({
		frame: posterizedFrame,
		speed: (f) => interpolate(f, [0, 30, 40, 60], [1, 0, 0, -1]),
	});
	const veryPosterizedFrame = Math.round(frame / 3) * 3;
	const {fps} = useVideoConfig();
	const scale = (delay: number) =>
		spring({
			fps,
			frame: remappedFrame - delay,
			config: {
				damping: 200,
				mass: 0.3,
			},
		});
	const randomRotatiom = (index: number) =>
		simplexNoise[index % simplexNoise.length].noise2D(veryPosterizedFrame, 0) *
		0.015;
	return (
		<svg
			width="1080"
			height="1080"
			viewBox="0 0 1080 1080"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
		>
			<path
				style={{
					transformBox: 'fill-box',
					transformOrigin: 'center',
					transform: `scale(${scale(0)}) rotate(${randomRotatiom(0)}rad)`,
				}}
				d="M254.286 351.882L253.438 449.049C253.393 454.262 253.504 459.636 253.772 465.168C254.199 470.544 255.341 475.452 257.198 479.893C259.214 484.334 262.342 487.996 266.583 490.877C270.825 493.6 276.817 494.995 284.559 495.063C292.301 495.131 298.237 493.839 302.368 491.189C306.659 488.383 309.851 484.776 311.943 480.37C314.036 475.964 315.263 471.077 315.626 465.708C316.149 460.182 316.432 454.813 316.478 449.599L317.326 352.432L363.539 352.836L362.635 456.401C362.393 484.208 355.817 504.454 342.908 517.14C330.156 529.827 310.588 536.056 284.203 535.825C257.818 535.595 238.283 529.025 225.597 516.116C212.911 503.207 206.69 482.849 206.932 455.042L207.836 351.477L254.286 351.882Z"
				fill="#0B84F3"
			/>
			<path
				style={{
					transformBox: 'fill-box',
					transformOrigin: 'center',
					transform: `scale(${scale(2)}) rotate(${randomRotatiom(1)}rad)`,
				}}
				d="M563.008 387.493C558.024 383.297 553.021 380.207 547.999 378.223C542.98 376.082 538.101 374.969 533.361 374.886C527.358 374.782 522.436 376.118 518.595 378.895C514.754 381.673 512.793 385.352 512.714 389.933C512.658 393.093 513.561 395.716 515.421 397.803C517.28 399.89 519.697 401.749 522.671 403.381C525.806 404.858 529.259 406.183 533.032 407.355C536.962 408.529 540.811 409.782 544.581 411.112C559.658 416.432 570.598 423.418 577.4 432.07C584.363 440.567 587.726 451.608 587.488 465.194C587.328 474.357 585.604 482.623 582.315 489.992C579.184 497.365 574.57 503.684 568.473 508.951C562.537 514.062 555.2 517.963 546.461 520.655C537.878 523.508 528.136 524.839 517.236 524.649C494.646 524.255 473.831 517.175 454.792 503.411L475.351 466.318C482.194 472.6 488.986 477.302 495.727 480.422C502.467 483.542 509.155 485.16 515.79 485.276C523.373 485.408 529.011 483.768 532.705 480.356C536.558 476.947 538.522 473.031 538.599 468.607C538.646 465.922 538.212 463.623 537.298 461.71C536.386 459.64 534.838 457.796 532.653 456.178C530.472 454.401 527.577 452.77 523.968 451.285C520.518 449.803 516.28 448.149 511.255 446.323C505.285 444.322 499.397 442.165 493.59 439.851C487.945 437.382 482.864 434.212 478.349 430.341C473.992 426.472 470.441 421.67 467.697 415.933C465.113 410.041 463.899 402.671 464.053 393.825C464.208 384.978 465.769 377.025 468.736 369.966C471.865 362.751 476.08 356.662 481.381 351.698C486.843 346.578 493.391 342.663 501.023 339.952C508.813 337.243 517.448 335.972 526.927 336.137C535.773 336.292 544.993 337.717 554.585 340.413C564.18 342.951 573.36 346.666 582.124 351.56L563.008 387.493Z"
				fill="#0B84F3"
			/>
			<path
				style={{
					transformBox: 'fill-box',
					transformOrigin: 'center',
					transform: `scale(${scale(1)}) rotate(${randomRotatiom(2)}rad)`,
				}}
				d="M638.986 480.763L649.649 480.95C657.706 481.09 664.916 479.952 671.279 477.534C677.643 475.117 682.995 471.734 687.338 467.385C691.838 463.039 695.247 457.884 697.563 451.919C700.041 445.8 701.343 439.106 701.469 431.839C701.594 424.73 700.525 418.075 698.262 411.872C696 405.67 692.696 400.318 688.35 395.818C684.162 391.32 678.93 387.752 672.656 385.114C666.381 382.477 659.294 381.089 651.395 380.951L640.732 380.765L638.986 480.763ZM594.973 340.618L663.693 341.817C675.857 342.03 687.188 344.677 697.687 349.759C708.344 354.844 717.55 361.562 725.306 369.915C733.222 378.112 739.376 387.701 743.767 398.682C748.16 409.504 750.254 420.839 750.047 432.687C749.843 444.378 747.355 455.633 742.584 466.453C737.973 477.118 731.567 486.488 723.367 494.562C715.325 502.639 705.89 509.032 695.062 513.742C684.392 518.455 672.896 520.703 660.574 520.488L591.855 519.289L594.973 340.618Z"
				fill="#eeeeee"
			/>
			<path
				style={{
					transformBox: 'fill-box',
					transformOrigin: 'center',
					transform: `scale(${scale(2)}) rotate(${randomRotatiom(1)}rad)`,
				}}
				d="M822.961 444.993L796.499 387.779L781.441 448.991L822.961 444.993ZM838.612 478.962L772.558 485.323L764.918 517.249L715.613 521.997L766.191 337.602L816.676 332.741L901.509 504.097L852.204 508.844L838.612 478.962Z"
				fill="#0B84F3"
			/>
			<path
				style={{
					transformBox: 'fill-box',
					transformOrigin: 'center',
					transform: `scale(${scale(3)}) rotate(${randomRotatiom(1)}rad)`,
				}}
				d="M907.239 427.451L847.015 331.263L902.397 334.166L932.977 384.657L968.43 337.626L1023.81 340.529L953.627 429.882L949.137 515.558L902.749 513.127L907.239 427.451Z"
				fill="#eeeeee"
			/>
			<path
				style={{
					transformBox: 'fill-box',
					transformOrigin: 'center',
					transform: `scale(${scale(1)}) rotate(${randomRotatiom(2)}rad)`,
				}}
				d="M458.251 377.015L403.049 378.46L403.831 408.312L455.953 406.947L456.983 446.275L404.861 447.64L405.667 478.44L460.869 476.994L461.899 516.323L360.261 518.984L355.583 340.348L457.221 337.686L458.251 377.015Z"
				fill="#eeeeee"
			/>
			<path
				style={{
					transformBox: 'fill-box',
					transformOrigin: 'center',
					transform: `scale(${scale(2)}) rotate(${randomRotatiom(4)}rad)`,
				}}
				d="M176.505 379.644V519H130.053V379.644H91.896V340.302H214.662V379.644H176.505Z"
				fill="#eeeeee"
			/>
			<path
				style={{
					transformBox: 'fill-box',
					transformOrigin: 'center',
					transform: `scale(${scale(5)}) rotate(${randomRotatiom(0)}rad)`,
				}}
				d="M185.457 684.487L159.496 627.044L143.904 688.123L185.457 684.487ZM200.812 718.592L134.705 724.375L126.786 756.234L77.4416 760.551L129.627 576.605L180.152 572.184L263.487 744.274L214.142 748.591L200.812 718.592Z"
				fill="#0B84F3"
			/>
			<path
				style={{
					transformBox: 'fill-box',
					transformOrigin: 'center',
					transform: `scale(${scale(6)}) rotate(${randomRotatiom(0)}rad)`,
				}}
				d="M625.291 574.044L624.075 713.395L679.768 713.881L679.424 753.221L577.281 752.33L578.841 573.639L625.291 574.044Z"
				fill="#0B84F3"
			/>
			<path
				style={{
					transformBox: 'fill-box',
					transformOrigin: 'center',
					transform: `scale(${scale(8)}) rotate(${randomRotatiom(0)}rad)`,
				}}
				d="M859.663 752.114L715.81 753.369L759.726 707.006C771.311 694.739 780.385 684.389 786.948 675.958C793.509 667.368 798.344 660.137 801.453 654.263C804.72 648.389 806.733 643.631 807.491 639.99C808.249 636.349 808.617 633.265 808.595 630.737C808.572 628.051 808.075 625.448 807.105 622.929C806.293 620.408 805.01 618.207 803.255 616.326C801.499 614.287 799.353 612.726 796.815 611.642C794.434 610.399 791.585 609.792 788.267 609.821C781.947 609.876 776.988 611.973 773.39 616.113C769.95 620.251 768.257 625.401 768.311 631.563C768.326 633.301 768.585 635.826 769.088 639.14L718.372 639.583C718.281 629.155 719.857 619.661 723.1 611.1C726.502 602.538 731.257 595.15 737.365 588.934C743.473 582.719 750.699 577.915 759.044 574.524C767.546 571.132 776.854 569.392 786.965 569.304C796.919 569.217 806.096 570.717 814.497 573.803C823.057 576.889 830.442 581.249 836.653 586.883C842.865 592.517 847.743 599.268 851.288 607.138C854.831 614.849 856.643 623.287 856.723 632.45C856.808 642.246 854.755 651.349 850.562 659.76C846.526 668.012 839.964 676.522 830.876 685.292L801.494 713.278L859.32 712.774L859.663 752.114Z"
				fill="#eeeeee"
			/>
			<path
				style={{
					transformBox: 'fill-box',
					transformOrigin: 'center',
					transform: `scale(${scale(9)}) rotate(${randomRotatiom(0)}rad)`,
				}}
				d="M403.144 655.259L411.892 654.647C421.034 654.008 427.915 651.626 432.537 647.501C437.158 643.377 439.221 637.768 438.725 630.676C438.229 623.583 435.406 618.316 430.255 614.875C425.105 611.434 417.959 610.033 408.817 610.672L400.069 611.284L403.144 655.259ZM511.936 746.721L454.249 750.755L405.244 685.284L410.038 753.847L363.699 757.087L351.234 578.824L423.343 573.782C433.273 573.088 442.046 573.979 449.664 576.456C457.27 578.775 463.614 582.291 468.695 587.004C473.933 591.706 477.966 597.284 480.794 603.739C483.778 610.182 485.535 617.187 486.064 624.752C487.012 638.307 484.474 649.571 478.449 658.546C472.571 667.351 463.353 673.698 450.796 677.585L511.936 746.721Z"
				fill="#0B84F3"
			/>
			<path
				style={{
					transformBox: 'fill-box',
					transformOrigin: 'center',
					transform: `scale(${scale(7)}) rotate(${randomRotatiom(0)}rad)`,
				}}
				d="M282.736 655.364L298.127 656.036C315.174 656.78 324.022 649.733 324.67 634.895C325.318 620.057 317.118 612.266 300.07 611.522L284.68 610.85L282.736 655.364ZM278.518 751.968L232.111 749.941L239.905 571.413L313.779 574.639C333.826 575.514 348.91 581.392 359.031 592.271C369.31 603.158 374.036 618.072 373.209 637.014C372.382 655.956 366.374 670.402 355.185 680.352C344.154 690.308 328.616 694.848 308.569 693.973L281.103 692.774L278.518 751.968Z"
				fill="#eeeeee"
			/>
			<path
				style={{
					transformBox: 'fill-box',
					transformOrigin: 'center',
					transform: `scale(${scale(6)}) rotate(${randomRotatiom(0)}rad)`,
				}}
				d="M954.086 578.71L901.365 635.206L902.312 635.239C906.827 632.709 910.514 631.257 913.373 630.883C916.237 630.35 918.775 630.123 920.985 630.2C929.67 630.503 937.586 632.44 944.734 636.009C951.882 639.579 958.038 644.379 963.203 650.409C968.373 656.281 972.323 663.138 975.053 670.98C977.783 678.822 978.994 687.164 978.685 696.007C978.354 705.481 976.308 714.263 972.548 722.353C968.793 730.284 963.491 737.214 956.644 743.14C949.961 748.915 941.9 753.376 932.463 756.525C923.025 759.673 912.464 761.043 900.779 760.635C888.936 760.222 878.417 758.115 869.222 754.316C860.027 750.517 852.218 745.501 845.796 739.269C839.532 733.043 834.8 725.922 831.602 717.905C828.409 709.731 826.97 701.143 827.284 692.143C827.637 682.037 830.228 671.219 835.058 659.688C840.051 648.005 847.404 636.642 857.117 625.598L900.32 576.832L954.086 578.71ZM873.251 693.274C873.108 697.379 873.762 701.275 875.214 704.962C876.672 708.491 878.696 711.645 881.287 714.423C883.877 717.201 886.882 719.44 890.301 721.141C893.877 722.846 897.719 723.771 901.824 723.914C905.93 724.058 909.747 723.401 913.276 721.943C916.963 720.491 920.195 718.469 922.973 715.879C925.751 713.288 927.991 710.283 929.691 706.865C931.397 703.288 932.322 699.447 932.465 695.341C932.608 691.236 931.951 687.419 930.493 683.89C929.041 680.203 927.02 676.97 924.429 674.192C921.838 671.414 918.755 669.172 915.178 667.466C911.759 665.766 907.997 664.844 903.892 664.7C899.786 664.557 895.89 665.212 892.203 666.664C888.674 668.121 885.521 670.146 882.743 672.736C879.964 675.327 877.722 678.411 876.017 681.987C874.316 685.406 873.394 689.168 873.251 693.274Z"
				fill="#0B84F3"
			/>
			<path
				style={{
					transformBox: 'fill-box',
					transformOrigin: 'center',
					transform: `scale(${scale(5)}) rotate(${randomRotatiom(0)}rad)`,
				}}
				d="M550.17 572.201L567.298 750.077L521.06 754.529L503.932 576.654L550.17 572.201Z"
				fill="#eeeeee"
			/>
		</svg>
	);
};
